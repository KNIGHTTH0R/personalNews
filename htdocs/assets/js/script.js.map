{"version":3,"sources":["script.js"],"names":["document","addEventListener","toggleElement","elementId","targetElementId","getElementById","onclick","targetElement","classList","contains","remove","add","event","preventDefault","stickyElement","stickyId","compensateId","stickyHeight","clientHeight","scrollElement","style","marginTop","placeOverlay","overlayElement","top","setJs","getElementsByTagName","scrollToTarget","window","scrollTo","themeSwitch","renderFile","switchingElement","xmlhttp","XMLHttpRequest","this","checked","themeDark","themeLight","open","send","localStorage","setItem","console","log","channelSwitch","elementContainer","switchChannel","e","elementToToggleOnLoad","target","currentTarget","overlayContainer","channelLink","getAttribute","onreadystatechange","readyState","outputContainer","innerHTML","response","stopPropagation","savedLocalStorageTheme","getItem","opacity"],"mappings":"AACAA,SAASC,iBAAiB,mBAAoB,WAS5C,QAASC,GAAcC,EAAUC,GAChCF,EAAgBF,SAASK,eAAeF,GACxCD,EAAcI,QAAU,WACvBC,cAAgBP,SAASK,eAAeD,GACrCG,cAAcC,UAAUC,SAAS,aACnCF,cAAcC,UAAUE,OAAO,aAE/BH,cAAcC,UAAUG,IAAI,aAG7BC,MAAMC,kBAKR,QAASC,GAAcC,EAASC,GAC/BF,EAAgBd,SAASK,eAAeU,GACxCD,EAAcN,UAAUG,IAAI,UAC5BM,aAAeH,EAAcI,aAAe,KAG5CC,cAAgBnB,SAASK,eAAeW,GACxCG,cAAcC,MAAMC,UAAYJ,aAIjC,QAASK,GAAanB,GACrBoB,eAAiBvB,SAASK,eAAeF,GACzCoB,eAAeH,MAAMI,IAAMP,aAK5B,QAASQ,KACRzB,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUG,IAAI,MAIxD,QAASgB,KACRC,OAAOC,SAAS,EAAE,GAoBnB,QAASC,GAAY3B,GACpB,GAAI4B,GAAa,wBAEjBC,kBAAmBhC,SAASK,eAAeF,GAC3C6B,iBAAiB1B,QAAU,WAC1B2B,QAAU,GAAIC,gBACVC,KAAKC,SACRpC,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUG,IAAI0B,GACvDrC,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUE,OAAO4B,GAC1DL,QAAQM,KAAK,MAAMR,EAAWM,GAAU,GACxCJ,QAAQO,OACRC,aAAaC,QAAQ,QAASL,GAC9BM,QAAQC,IAAI,0BAA4BP,KAExCrC,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUG,IAAI2B,GACvDtC,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUE,OAAO2B,GAC1DJ,QAAQM,KAAK,MAAM,yBAAyBD,GAAW,GACvDL,QAAQO,OACRC,aAAaC,QAAQ,QAASJ,GAC9BK,QAAQC,IAAI,0BAA4BN,KAO3C,QAASO,GAAc1C,GACtB2C,iBAAmB9C,SAASK,eAAeF,GAC3C2C,iBAAiB7C,iBAAiB,QAAS8C,GAAe,GAI3D,QAASA,GAAcC,GACtBhD,SAASK,eAAe4C,GAAuBzC,UAAUE,OAAO,aAEhEuB,QAAU,GAAIC,gBACVc,EAAEE,SAAWF,EAAEG,gBAClBC,iBAAmBpD,SAASK,eAAe,uBAC3C+C,iBAAiB5C,UAAUG,IAAI,aAC/B0C,YAAcL,EAAEE,OAAOI,aAAa,QACpCvB,WAAa,mBACbiB,EAAEnC,iBAEFoB,QAAQM,KAAK,MAAMR,WAAWsB,aAAY,GAC1CpB,QAAQO,OAGRP,QAAQsB,mBAAqB,WACD,IAAvBtB,QAAQuB,YAAoBvB,QAAQuB,aACvCC,gBAAkBzD,SAASK,eAAe,WAC1CoD,gBAAgBC,UAAYzB,QAAQ0B,SACpC3D,SAASK,eAAe4C,GAAuBzC,UAAUG,IAAI,aAC7DgB,IACAgB,QAAQC,IAAI,aAKfI,EAAEY,kBA3HH,GAAItB,GAAa,QACbD,EAAY,OACZY,EAAwB,sBAgDxBY,EAAyBpB,aAAaqB,QAAQ,QAClDnB,SAAQC,IAAIiB,GACkB,OAA3BA,IACF7D,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUE,OAAO4B,EAAYD,GACtErC,SAAS0B,qBAAqB,QAAQ,GAAGlB,UAAUG,IAAIkD,GACvD7D,SAAS0B,qBAAqB,QAAQ,GAAGN,MAAM2C,QAAU,IACtDF,IAA2BvB,IAC7BtC,SAASK,eAAe,kBAAkB+B,SAAU,GAElDyB,IAA2BxB,IAC7BrC,SAASK,eAAe,kBAAkB+B,SAAU,IAoEtDX,IAGAX,EAAc,mBAAmB,WAGjCgB,EAAY,kBAGZ5B,EAAc,iBAAkB,uBAGhCoB,EAAa,uBAGbuB,EAAc","file":"script.js","sourcesContent":["// is the DOM ready for manipulation?\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\t\t// ---- variables ----\n\t\tvar themeLight = 'light';\n\t\tvar themeDark = 'dark';\n\t\tvar elementToToggleOnLoad = 'application-loading';\n\n\t\t// ---- global functions ----\n\t\t// toggle Element\n\t\tfunction toggleElement(elementId,targetElementId) {\n\t\t\ttoggleElement = document.getElementById(elementId);\n\t\t\ttoggleElement.onclick = function() {\n\t\t\t\ttargetElement = document.getElementById(targetElementId);\n\t\t\t\tif(targetElement.classList.contains('js-hidden')) {\n\t\t\t\t\ttargetElement.classList.remove('js-hidden');\n\t\t\t\t} else {\n\t\t\t\t\ttargetElement.classList.add('js-hidden');\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t\t// make element sticky (via position in css)\n\t\tfunction stickyElement(stickyId,compensateId) {\n\t\t\tstickyElement = document.getElementById(stickyId);\n\t\t\tstickyElement.classList.add('sticky');\n\t\t\tstickyHeight = stickyElement.clientHeight + 'px';\n\n\t\t\t//add Element-Height as margin-top to desired element\n\t\t\tscrollElement = document.getElementById(compensateId);\n\t\t\tscrollElement.style.marginTop = stickyHeight;\n\t\t}\n\n\t\t// place Element in relation to sticky element\n\t\tfunction placeOverlay(elementId) {\n\t\t\toverlayElement = document.getElementById(elementId);\n\t\t\toverlayElement.style.top = stickyHeight;\n\t\t}\n\n\t\t// ---- helper functions ----\n\t\t// add JS to body-tag to allow CSS-Manipulation if JS is available\n\t\tfunction setJs() {\n\t\t\tdocument.getElementsByTagName('body')[0].classList.add('js');\n\t\t}\n\n\t\t// scroll to desired position\n\t\tfunction scrollToTarget() {\n\t\t\twindow.scrollTo(0,0);\n\t\t}\n\n\t\t// ---- theme-switching ----\n\t\t// check if localStorage is filled and set body.class with it. This is useful, if the site runs as app\n\t\tvar savedLocalStorageTheme = localStorage.getItem('theme');\n\t\tconsole.log(savedLocalStorageTheme);\n\t\tif(savedLocalStorageTheme !== null) {\n\t\t\tdocument.getElementsByTagName('body')[0].classList.remove(themeLight, themeDark);\n\t\t\tdocument.getElementsByTagName('body')[0].classList.add(savedLocalStorageTheme);\n\t\t\tdocument.getElementsByTagName('body')[0].style.opacity = \"1\";\n\t\t\tif(savedLocalStorageTheme === themeLight) {\n\t\t\t\tdocument.getElementById('theme-switcher').checked = false;\n\t\t\t}\n\t\t\tif(savedLocalStorageTheme === themeDark) {\n\t\t\t\tdocument.getElementById('theme-switcher').checked = true;\n\t\t\t}\n\t\t}\n\n\t\t// switch theme by adding and removing classes to body\n\t\tfunction themeSwitch(elementId) {\n\t\t\tvar renderFile = 'themeswitch.php?theme=';\n\n\t\t\tswitchingElement = document.getElementById(elementId);\n\t\t\tswitchingElement.onclick = function() {\n\t\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.add(themeDark);\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.remove(themeLight);\n\t\t\t\t\txmlhttp.open('GET',renderFile+themeDark,true);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t\tlocalStorage.setItem('theme', themeDark);\n\t\t\t\t\tconsole.log('localStorage Theme is: ' + themeDark);\n\t\t\t\t} else {\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.add(themeLight);\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.remove(themeDark);\n\t\t\t\t\txmlhttp.open('GET','themeswitch.php?theme='+themeLight,true);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t\tlocalStorage.setItem('theme', themeLight);\n\t\t\t\t\tconsole.log('localStorage Theme is: ' + themeLight);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ---- Loading Feeds (via Ajax) ----\n\t\t// add listener\n\t\tfunction channelSwitch(elementId) {\n\t\t\telementContainer = document.getElementById(elementId);\n\t\t\telementContainer.addEventListener('click', switchChannel, false);\n\t\t}\n\n\t\t// loading the contents\n\t\tfunction switchChannel(e) {\n\t\t\tdocument.getElementById(elementToToggleOnLoad).classList.remove('js-hidden');\n\n\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\tif (e.target !== e.currentTarget) {\n\t\t\t\toverlayContainer = document.getElementById('application-overlay');\n\t\t\t\toverlayContainer.classList.add('js-hidden');\n\t\t\t\tchannelLink = e.target.getAttribute('href');\n\t\t\t\trenderFile = 'render-feeds.php';\n\t\t\t\te.preventDefault();\n\n\t\t\t\txmlhttp.open('GET',renderFile+channelLink,true);\n\t\t\t\txmlhttp.send();\n\n\t\t\t\t// output if call is succesful\n\t\t\t\txmlhttp.onreadystatechange = function() {\n\t\t\t\t\tif (xmlhttp.readyState === 4 && xmlhttp.readyState) {\n\t\t\t\t\t\toutputContainer = document.getElementById('content');\n\t\t\t\t\t\toutputContainer.innerHTML = xmlhttp.response;\n\t\t\t\t\t\tdocument.getElementById(elementToToggleOnLoad).classList.add('js-hidden');\n\t\t\t\t\t\tscrollToTarget();\n\t\t\t\t\t\tconsole.log(\"finish\");\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\t// ---- initialize ----\n\t\t// set Js on body if JS is available\n\t\tsetJs();\n\n\t\t//sticky header (item to fix, item with margin to compensate fix)\n\t\tstickyElement('application-head','content');\n\n\t\t// theme switcher\n\t\tthemeSwitch('theme-switcher');\n\n\t\t// toggle Element (toggle, target)\n\t\ttoggleElement('toggle-overlay', 'application-overlay');\n\n\t\t// place overlay\n\t\tplaceOverlay('application-overlay');\n\n\t\t// switch channels\n\t\tchannelSwitch('channels');\n\t});\n"]}