{"version":3,"sources":["script.js"],"names":["document","addEventListener","toggleElement","elementId","targetElementId","getElementById","onclick","targetElement","classList","contains","remove","add","event","preventDefault","fixTimeline","stickyElement","stickyId","compensateId","stickyHeight","clientHeight","scrollElement","style","marginTop","placeOverlay","overlayElement","top","setJs","getElementsByTagName","scrollToTarget","x","y","window","scrollTo","themeSwitch","renderFile","switchingElement","xmlhttp","XMLHttpRequest","this","checked","themeDark","themeLight","open","send","localStorage","setItem","console","log","channelSwitch","elementContainer","switchChannel","e","target","currentTarget","channelLink","getAttribute","ajaxRequest","stopPropagation","elementToToggleOnLoad","overlayContainer","onreadystatechange","readyState","outputContainer","innerHTML","response","elementToFix","scrollY","pageYOffset","scrollYMem","savedLocalStorageTheme","getItem"],"mappings":"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","file":"script.js","sourcesContent":["// is the DOM ready for manipulation?\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\t\t// ---- variables ----\n\t\tvar themeLight = 'light';\n\t\tvar themeDark = 'dark';\n\t\tvar elementToToggleOnLoad = 'application-loading';\n\n\t\t// ---- global functions ----\n\t\t// toggle Element\n\t\tfunction toggleElement(elementId,targetElementId) {\n\t\t\ttoggleElement = document.getElementById(elementId);\n\t\t\ttoggleElement.onclick = function() {\n\t\t\t\ttargetElement = document.getElementById(targetElementId);\n\t\t\t\tif(targetElement.classList.contains('js-hidden')) {\n\t\t\t\t\ttargetElement.classList.remove('js-hidden');\n\t\t\t\t} else {\n\t\t\t\t\ttargetElement.classList.add('js-hidden');\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tfixTimeline(\"content\");\n\t\t\t}\n\t\t}\n\n\t\t// make element sticky (via position in css)\n\t\tfunction stickyElement(stickyId,compensateId) {\n\t\t\tstickyElement = document.getElementById(stickyId);\n\t\t\tstickyElement.classList.add('sticky');\n\t\t\tstickyHeight = stickyElement.clientHeight + 'px';\n\n\t\t\t//add Element-Height as margin-top to desired element\n\t\t\tscrollElement = document.getElementById(compensateId);\n\t\t\tscrollElement.style.marginTop = stickyHeight;\n\t\t}\n\n\t\t// place Element in relation to sticky element\n\t\tfunction placeOverlay(elementId) {\n\t\t\toverlayElement = document.getElementById(elementId);\n\t\t\toverlayElement.style.top = stickyHeight;\n\t\t}\n\n\t\t// ---- helper functions ----\n\t\t// add JS to body-tag to allow CSS-Manipulation if JS is available\n\t\tfunction setJs() {\n\t\t\tdocument.getElementsByTagName('body')[0].classList.add('js');\n\t\t}\n\n\t\t// scroll to desired position\n\t\tfunction scrollToTarget(x,y) {\n\t\t\twindow.scrollTo(x,y);\n\t\t}\n\n\t\t// ---- theme-switching ----\n\t\t// check if localStorage is filled and set body.class with it. This is useful, if the site runs as app\n\t\tvar savedLocalStorageTheme = localStorage.getItem('theme');\n\t\tconsole.log(savedLocalStorageTheme);\n\t\tif(savedLocalStorageTheme !== null) {\n\t\t\tdocument.getElementsByTagName('html')[0].classList.remove(themeLight, themeDark);\n\t\t\tdocument.getElementsByTagName('html')[0].classList.add(savedLocalStorageTheme);\n\t\t\tif(savedLocalStorageTheme === themeLight) {\n\t\t\t\tdocument.getElementById('theme-switcher').checked = false;\n\t\t\t}\n\t\t\tif(savedLocalStorageTheme === themeDark) {\n\t\t\t\tdocument.getElementById('theme-switcher').checked = true;\n\t\t\t}\n\t\t}\n\n\t\t// switch theme by adding and removing classes to body\n\t\tfunction themeSwitch(elementId) {\n\t\t\tvar renderFile = 'themeswitch.php?theme=';\n\n\t\t\tswitchingElement = document.getElementById(elementId);\n\t\t\tswitchingElement.onclick = function() {\n\t\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tdocument.getElementsByTagName('html')[0].classList.add(themeDark);\n\t\t\t\t\tdocument.getElementsByTagName('html')[0].classList.remove(themeLight);\n\t\t\t\t\txmlhttp.open('GET',renderFile+themeDark,true);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t\tlocalStorage.setItem('theme', themeDark);\n\t\t\t\t\tconsole.log('localStorage Theme is: ' + themeDark);\n\t\t\t\t} else {\n\t\t\t\t\tdocument.getElementsByTagName('html')[0].classList.add(themeLight);\n\t\t\t\t\tdocument.getElementsByTagName('html')[0].classList.remove(themeDark);\n\t\t\t\t\txmlhttp.open('GET','themeswitch.php?theme='+themeLight,true);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t\tlocalStorage.setItem('theme', themeLight);\n\t\t\t\t\tconsole.log('localStorage Theme is: ' + themeLight);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ---- Loading Feeds (via Ajax) ----\n\t\t// add listener\n\t\tfunction channelSwitch(elementId) {\n\t\t\telementContainer = document.getElementById(elementId);\n\t\t\telementContainer.addEventListener('click', switchChannel, false);\n\t\t}\n\n\t\t// prepare loading after click\n\t\tfunction switchChannel(e) {\n\t\t\tif (e.target !== e.currentTarget) {\n\t\t\t\tchannelLink = e.target.getAttribute('href');\n\t\t\t\tajaxRequest(channelLink);\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t}\n\n\t\t// loading the content\n\t\tfunction ajaxRequest(channelLink) {\n\t\t\tdocument.getElementById(elementToToggleOnLoad).classList.remove('js-hidden');\n\t\t\trenderFile = 'render-feeds.php';\n\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\txmlhttp.open('GET',renderFile+channelLink,true);\n\t\t\txmlhttp.send();\n\n\t\t\toverlayContainer = document.getElementById('application-overlay');\n\t\t\toverlayContainer.classList.add('js-hidden');\n\n\n\t\t\t// output if call is succesful\n\t\t\txmlhttp.onreadystatechange = function() {\n\t\t\t\tif (xmlhttp.readyState === 4 && xmlhttp.readyState) {\n\t\t\t\t\toutputContainer = document.getElementById('content');\n\t\t\t\t\toutputContainer.innerHTML = xmlhttp.response;\n\t\t\t\t\tdocument.getElementById(elementToToggleOnLoad).classList.add('js-hidden');\n\t\t\t\t\tscrollToTarget(0,0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// ---- fix element to current position\n\t\tfunction fixTimeline(elementId) {\n\t\t\telementToFix = document.getElementById(elementId);\n\t\t\tscrollY = window.pageYOffset;\n\n\t\t\tif(elementToFix.classList.contains('fixed')) {\n\t\t\t\telementToFix.classList.remove('fixed');\n\t\t\t\telementToFix.style.top = 0;\n\t\t\t\tscrollToTarget(0,scrollYMem);\n\t\t\t} else {\n\t\t\t\telementToFix.classList.add('fixed');\n\t\t\t\telementToFix.style.top = '-' + scrollY + 'px';\n\t\t\t\tscrollYMem = scrollY;\n\t\t\t}\n\n\t\t\tconsole.log(scrollYMem);\n\t\t}\n\n\t\t// ---- initialize ----\n\t\t// set Js on body if JS is available\n\t\tsetJs();\n\n\t\t// initial load of content\n\t\tajaxRequest('');\n\n\t\t//sticky header (item to fix, item with margin to compensate fix)\n\t\tstickyElement('application-head','content');\n\n\t\t// theme switcher\n\t\tthemeSwitch('theme-switcher');\n\n\t\t// toggle Element (trigger, target)\n\t\ttoggleElement('toggle-overlay', 'application-overlay');\n\n\t\t// place overlay\n\t\tplaceOverlay('application-overlay');\n\n\t\t// switch channels\n\t\tchannelSwitch('channels');\n\t});\n"]}