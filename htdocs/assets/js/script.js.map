{"version":3,"sources":["script.js"],"names":["document","addEventListener","themeSwitch","elementId","renderFile","switchingElement","getElementById","onclick","xmlhttp","XMLHttpRequest","this","checked","getElementsByTagName","classList","add","themeDark","remove","themeLight","open","send","localStorage","setItem","console","log","toggleElement","targetElementId","targetElement","contains","event","preventDefault","setJs","stickyElement","stickyId","compensateId","stickyHeight","clientHeight","scrollElement","style","marginTop","placeOverlay","overlayElement","top","channelSwitch","switchChannel","e","target","currentTarget","channelLink","getAttribute","onreadystatechange","readyState","outputContainer","overlayContainer","innerHTML","response","stopPropagation","elementContainer","savedLocalStorageTheme","getItem","opacity"],"mappings":"AACAA,SAASC,iBAAiB,mBAAoB,WAsB5C,QAASC,GAAYC,GACpB,GAAIC,GAAa,wBAEjBC,kBAAmBL,SAASM,eAAeH,GAC3CE,iBAAiBE,QAAU,WAC1BC,QAAU,GAAIC,gBACVC,KAAKC,SACRX,SAASY,qBAAqB,QAAQ,GAAGC,UAAUC,IAAIC,GACvDf,SAASY,qBAAqB,QAAQ,GAAGC,UAAUG,OAAOC,GAC1DT,QAAQU,KAAK,MAAMd,EAAWW,GAAU,GACxCP,QAAQW,OACRC,aAAaC,QAAQ,QAASN,GAC9BO,QAAQC,IAAI,0BAA4BR,KAExCf,SAASY,qBAAqB,QAAQ,GAAGC,UAAUC,IAAIG,GACvDjB,SAASY,qBAAqB,QAAQ,GAAGC,UAAUG,OAAOD,GAC1DP,QAAQU,KAAK,MAAM,yBAAyBD,GAAW,GACvDT,QAAQW,OACRC,aAAaC,QAAQ,QAASJ,GAC9BK,QAAQC,IAAI,0BAA4BN,KAM3C,QAASO,GAAcrB,EAAUsB,GAChCD,EAAgBxB,SAASM,eAAeH,GACxCqB,EAAcjB,QAAU,WACvBmB,cAAgB1B,SAASM,eAAemB,GACrCC,cAAcb,UAAUc,SAAS,aACnCD,cAAcb,UAAUG,OAAO,aAE/BU,cAAcb,UAAUC,IAAI,aAG7Bc,MAAMC,kBAKR,QAASC,KACR9B,SAASY,qBAAqB,QAAQ,GAAGC,UAAUC,IAAI,MAIxD,QAASiB,GAAcC,EAASC,GAC/BF,EAAgB/B,SAASM,eAAe0B,GACxCD,EAAclB,UAAUC,IAAI,UAC5BoB,aAAeH,EAAcI,aAAe,KAG5CC,cAAgBpC,SAASM,eAAe2B,GACxCG,cAAcC,MAAMC,UAAYJ,aAIjC,QAASK,GAAapC,GACrBqC,eAAiBxC,SAASM,eAAeH,GACzCqC,eAAeH,MAAMI,IAAMP,aAI5B,QAASQ,GAAcvC,GAItB,QAASwC,GAAcC,GACtBpC,QAAU,GAAIC,gBACVmC,EAAEC,SAAWD,EAAEE,gBAClBC,YAAcH,EAAEC,OAAOG,aAAa,QACpC5C,WAAa,mBACbwC,EAAEf,iBAEFrB,QAAQU,KAAK,MAAMd,WAAW2C,aAAY,GAC1CvC,QAAQW,OAGRX,QAAQyC,mBAAqB,WACD,IAAvBzC,QAAQ0C,YAAoB1C,QAAQ0C,aACvCC,gBAAkBnD,SAASM,eAAe,WAC1C8C,iBAAmBpD,SAASM,eAAe,uBAC3C6C,gBAAgBE,UAAY7C,QAAQ8C,SACpCF,iBAAiBvC,UAAUC,IAAI,aAC/BQ,QAAQC,IAAI,aAKfqB,EAAEW,kBAzBHC,iBAAmBxD,SAASM,eAAeH,GAC3CqD,iBAAiBvD,iBAAiB,QAAS0C,GAAe,GApF3D,GAAI1B,GAAa,QACbF,EAAY,OAIZ0C,EAAyBrC,aAAasC,QAAQ,QAClDpC,SAAQC,IAAIkC,GACkB,OAA3BA,IACFzD,SAASY,qBAAqB,QAAQ,GAAGC,UAAUG,OAAOC,EAAYF,GACtEf,SAASY,qBAAqB,QAAQ,GAAGC,UAAUC,IAAI2C,GACvDzD,SAASY,qBAAqB,QAAQ,GAAGyB,MAAMsB,QAAU,IACtDF,IAA2BxC,IAC7BjB,SAASM,eAAe,kBAAkBK,SAAU,GAElD8C,IAA2B1C,IAC7Bf,SAASM,eAAe,kBAAkBK,SAAU,IAmGtDmB,IAGAC,EAAc,mBAAmB,WAGjC7B,EAAY,kBAGZsB,EAAc,iBAAkB,uBAGhCe,EAAa,uBAGbG,EAAc","file":"script.js","sourcesContent":["// is the DOM ready for manipulation?\ndocument.addEventListener('DOMContentLoaded', function() {\n\n\t\tvar themeLight = 'light';\n\t\tvar themeDark = 'dark';\n\n\n\t\t// -- if DOM is ready, check if localStorage is filled and set body with it. This is useful, if the site runs as app\n\t\tvar savedLocalStorageTheme = localStorage.getItem('theme');\n\t\tconsole.log(savedLocalStorageTheme);\n\t\tif(savedLocalStorageTheme !== null) {\n\t\t\tdocument.getElementsByTagName('body')[0].classList.remove(themeLight, themeDark);\n\t\t\tdocument.getElementsByTagName('body')[0].classList.add(savedLocalStorageTheme);\n\t\t\tdocument.getElementsByTagName('body')[0].style.opacity = \"1\";\n\t\t\tif(savedLocalStorageTheme === themeLight) {\n\t\t\t\tdocument.getElementById('theme-switcher').checked = false;\n\t\t\t}\n\t\t\tif(savedLocalStorageTheme === themeDark) {\n\t\t\t\tdocument.getElementById('theme-switcher').checked = true;\n\t\t\t}\n\t\t}\n\n\t\t// switch theme by adding and removing classes to body\n\t\tfunction themeSwitch(elementId) {\n\t\t\tvar renderFile = 'themeswitch.php?theme=';\n\n\t\t\tswitchingElement = document.getElementById(elementId);\n\t\t\tswitchingElement.onclick = function() {\n\t\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\t\tif (this.checked) {\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.add(themeDark);\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.remove(themeLight);\n\t\t\t\t\txmlhttp.open('GET',renderFile+themeDark,true);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t\tlocalStorage.setItem('theme', themeDark);\n\t\t\t\t\tconsole.log('localStorage Theme is: ' + themeDark);\n\t\t\t\t} else {\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.add(themeLight);\n\t\t\t\t\tdocument.getElementsByTagName('body')[0].classList.remove(themeDark);\n\t\t\t\t\txmlhttp.open('GET','themeswitch.php?theme='+themeLight,true);\n\t\t\t\t\txmlhttp.send();\n\t\t\t\t\tlocalStorage.setItem('theme', themeLight);\n\t\t\t\t\tconsole.log('localStorage Theme is: ' + themeLight);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// toggle Element\n\t\tfunction toggleElement(elementId,targetElementId) {\n\t\t\ttoggleElement = document.getElementById(elementId);\n\t\t\ttoggleElement.onclick = function() {\n\t\t\t\ttargetElement = document.getElementById(targetElementId);\n\t\t\t\tif(targetElement.classList.contains('js-hidden')) {\n\t\t\t\t\ttargetElement.classList.remove('js-hidden');\n\t\t\t\t} else {\n\t\t\t\t\ttargetElement.classList.add('js-hidden');\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t}\n\n\t\t// add JS to body-tag to allow CSS-Manipulation if JS is available\n\t\tfunction setJs() {\n\t\t\tdocument.getElementsByTagName('body')[0].classList.add('js');\n\t\t}\n\n\t\t// make element sticky (via position in css)\n\t\tfunction stickyElement(stickyId,compensateId) {\n\t\t\tstickyElement = document.getElementById(stickyId);\n\t\t\tstickyElement.classList.add('sticky');\n\t\t\tstickyHeight = stickyElement.clientHeight + 'px';\n\n\t\t\t//add Element-Height as margin-top to desired element\n\t\t\tscrollElement = document.getElementById(compensateId);\n\t\t\tscrollElement.style.marginTop = stickyHeight;\n\t\t}\n\n\t\t// place Element in relation to sticky element\n\t\tfunction placeOverlay(elementId) {\n\t\t\toverlayElement = document.getElementById(elementId);\n\t\t\toverlayElement.style.top = stickyHeight;\n\t\t}\n\n\t\t// load items of a channel\n\t\tfunction channelSwitch(elementId) {\n\t\t\telementContainer = document.getElementById(elementId);\n\t\t\telementContainer.addEventListener('click', switchChannel, false);\n\n\t\t\tfunction switchChannel(e) {\n\t\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\t\tif (e.target !== e.currentTarget) {\n\t\t\t\t\tchannelLink = e.target.getAttribute('href');\n\t\t\t\t\trenderFile = 'render-feeds.php';\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\txmlhttp.open('GET',renderFile+channelLink,true);\n\t\t\t\t\txmlhttp.send();\n\n\t\t\t\t\t// output if call is succesful\n\t\t\t\t\txmlhttp.onreadystatechange = function() {\n\t\t\t\t\t\tif (xmlhttp.readyState === 4 && xmlhttp.readyState) {\n\t\t\t\t\t\t\toutputContainer = document.getElementById('content');\n\t\t\t\t\t\t\toverlayContainer = document.getElementById('application-overlay');\n\t\t\t\t\t\t\toutputContainer.innerHTML = xmlhttp.response;\n\t\t\t\t\t\t\toverlayContainer.classList.add('js-hidden')\n\t\t\t\t\t\t\tconsole.log(\"finish\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\n\t\t// set Js on body if JS is available\n\t\tsetJs();\n\n\t\t//sticky header (item to fix, item with margin to compensate fix)\n\t\tstickyElement('application-head','content');\n\n\t\t// theme switcher\n\t\tthemeSwitch('theme-switcher');\n\n\t\t// toggle Element (toggle, target)\n\t\ttoggleElement('toggle-overlay', 'application-overlay');\n\n\t\t// place overlay\n\t\tplaceOverlay('application-overlay');\n\n\t\t// switch channels\n\t\tchannelSwitch('channels');\n\t});\n"]}